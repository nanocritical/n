example varint
	let varint_cases = {
		\ ({0x00}, 0)
		\ ({0x01}, 1)
		\ ({0x7f}, 127)
		-- 14882
		\ ({0xa2 0x74}, (0x22 ov<< 0) | (0x74 ov<< 7))
		-- 2961488830 
		\ ({0xbe 0xf7 0x92 0x84 0x0b}, (0x3e ov<< 0) | (0x77 ov<< 7) | (0x12 ov<< 14) | (0x04 ov<< 21) | (0x0b ov<< 28))

		-- 64-bit
		-- 7256456126
		\ ({0xbe 0xf7 0x92 0x84 0x1b}, (0x3e ov<< 0) | (0x77 ov<< 7) | (0x12 ov<< 14) | (0x04 ov<< 21) | (0x1b ov<< 28))
		-- 41256202580718336
		\ ({0x80 0xe6 0xeb 0x9c 0xc3 0xc9 0xa4 0x49}, (0x00 ov<< 0) | (0x66 ov<< 7) | (0x6b ov<< 14) | (0x1c ov<< 21) | (0x43 ov<< 28) | (0x49 ov<< 35) | (0x24 ov<< 42) | (0x49 ov<< 49))
		-- 11964378330978735131
		\ ({0x9b 0xa8 0xf9 0xc2 0xbb 0xd6 0x80 0x85 0xa6 0x01}, (0x1b ov<< 0) | (0x28 ov<< 7) | (0x79 ov<< 14) | (0x42 ov<< 21) | (0x3b ov<< 28) | (0x56 ov<< 35) | (0x00 ov<< 42) | (0x05 ov<< 49) | (0x26 ov<< 56) | (0x01 ov<< 63))
		-- 11964378330978735131 with 0x80 on high-bit: OVERFLOW expected
		\ ({0x9b 0xa8 0xf9 0xc2 0xbb 0xd6 0x80 0x85 0xa6 0x81}, (0x1b ov<< 0) | (0x28 ov<< 7) | (0x79 ov<< 14) | (0x42 ov<< 21) | (0x3b ov<< 28) | (0x56 ov<< 35) | (0x00 ov<< 42) | (0x05 ov<< 49) | (0x26 ov<< 56) | (0x01 ov<< 63))}:[]([]U8, U64)

	var br, bufr, coded
	foreach bytes, value in varint_cases
		br = bufio.Bytes_reader.Mk bytes
		bufr = bufio.Reader.Mk #br
		coded = Reader.Mk #bufr

		let err, res = coded#Read_varint32
		if bytes.Count == 10 and bytes.Last & 0x80 != 0
			assert err == OVERFLOW
		else
			assert res == value.Trim_u32


	foreach bytes, value in varint_cases
		br = bufio.Bytes_reader.Mk bytes
		bufr = bufio.Reader.Mk #br
		coded = Reader.Mk #bufr

		let err, res = coded#Read_varint64
		if bytes.Count == 10 and bytes.Last & 0x80 != 0
			assert err == OVERFLOW
		else
			assert res == value



