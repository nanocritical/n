from nlang import *

export intf `heap_element =
  export isa `copyable `ordered

export opaque struct heap t:`heap_element =
  export isa `trivial_ctor `copyable
  h:(vector t)
  c:size

export inline heap met# reserve count:size = void
  self.h#reserve count

export inline heap met count = size
  return self.c

export inline heap met# push x:t = void
  self!c += 1

export inline heap met# pop = t
  self!c -= 1

export inline heap met first = t
export inline heap met last = t
