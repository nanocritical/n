from nlang import *

type sum = i_sum_copy i_sum_equality
  | A -> u32
  | B -> i32

type ta = i_trivial_copy
  x:u32

type tb = i_trivial_copy
  y:i32

type sum_nocopy =
  | A -> ta
  | B -> tb

export fun main = i32
  let m = sum_nocopy.A.mk { x=0 }
  let n = sum.A.mk 0
  if n == sum.A.mk 0
    return 0
  else
    return 1
