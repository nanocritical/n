from nlang import *

struct t =
  isa `Trivial_copy
  x:I32
  xx:I32

fun Foo = t
  return { x=3 }

fun bar = t
  return Foo

fun bar2 = r:t
  r = bar
  return r

fun Main = I32
  let y = bar
  if y.x != bar2.x
    return 1
  return y.xx
